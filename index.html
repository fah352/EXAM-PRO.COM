<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MDCAT Enzyme Quiz</title>
  <!-- Google Fonts - Inter for better typography -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Configure Tailwind CSS to use 'Inter' font and custom colors if needed
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            inter: ['Inter', 'sans-serif'],
          },
          animation: {
            // Custom pulse animation for the timer
            pulse: 'pulse 1.5s infinite',
            // Custom fade-in animation for the container
            fadeIn: 'fadeIn 0.6s ease-out',
          },
          keyframes: {
            pulse: {
              '0%, 100%': { transform: 'scale(1)', opacity: '1' },
              '50%': { transform: 'scale(1.03)', opacity: '0.9' },
            },
            fadeIn: {
              'from': { opacity: '0', transform: 'translateY(20px)' },
              'to': { opacity: '1', transform: 'translateY(0)' },
            },
          },
        }
      }
    }
  </script>
  <style>
    /* Custom styles for animations not directly supported by Tailwind utilities */
    body {
      /* Apply Inter font family */
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
<body class="font-inter text-xs bg-gradient-to-br from-blue-50 to-blue-200 p-4 text-gray-800 flex justify-center items-center min-h-screen m-0 box-border">
  <!-- Quiz Section Container -->
  <div class="container max-w-md w-full bg-white p-4 rounded-xl shadow-lg animate-fadeIn border border-gray-200" id="quiz-section">
    <div class="section-title font-bold mb-4 text-sm text-blue-700 text-center border-b-2 border-blue-100 pb-2 drop-shadow-sm">MDCAT Enzyme Quiz</div>
    <div id="timer-wrapper" class="text-sm my-2 text-gray-600 text-center font-semibold">Time Left: <span id="timer" class="text-red-600 font-bold animate-pulse">60s</span></div>
    <div class="progress-bar-container bg-gray-300 rounded-lg overflow-hidden h-2.5 mb-4 shadow-inner">
      <div class="progress-bar h-full w-0 bg-gradient-to-r from-blue-600 to-blue-400 rounded-lg transition-all duration-400 ease-in-out" id="progressBar"></div>
    </div>
    <div id="question-container"></div>
    <div class="controls flex justify-between mt-4 gap-2">
      <button class="back-btn flex-1 py-2 px-4 rounded-full text-white text-xs font-semibold transition-all duration-300 ease-in-out shadow-md shadow-gray-300 hover:bg-gray-600 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-gray-400 focus:outline-none bg-gray-500" onclick="prevQuestion()">Back</button>
      <button class="next-btn flex-1 py-2 px-4 rounded-full text-white text-xs font-semibold transition-all duration-300 ease-in-out shadow-md shadow-blue-300 hover:bg-blue-700 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-400 focus:outline-none bg-blue-600" onclick="nextQuestion()">Next</button>
      <button class="submit-btn flex-1 py-2 px-4 rounded-full text-white text-xs font-semibold transition-all duration-300 ease-in-out shadow-md shadow-green-300 hover:bg-green-700 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-green-400 focus:outline-none bg-green-600" onclick="submitQuiz()">Submit</button>
    </div>
  </div>

  <!-- Result Section Container -->
  <div class="container max-w-md w-full bg-white p-4 rounded-xl shadow-lg animate-fadeIn border border-gray-200" id="result-section" style="display:none;">
    <div class="section-title font-bold mb-4 text-sm text-blue-700 text-center border-b-2 border-blue-100 pb-2 drop-shadow-sm">Result Summary</div>
    <table class="w-full text-sm border-separate border-spacing-0 mt-4 rounded-lg overflow-hidden shadow-md">
      <thead>
        <tr>
          <th class="p-2.5 border-b border-r border-gray-100 text-left bg-blue-100 font-bold text-blue-700 uppercase tracking-wide">Metric</th>
          <th class="p-2.5 border-b border-r-0 border-gray-100 text-left bg-blue-100 font-bold text-blue-700 uppercase tracking-wide">Value</th>
        </tr>
      </thead>
      <tbody>
        <tr class="even:bg-gray-50">
          <td class="p-2.5 border-b border-r border-gray-100">Attempted Questions</td><td class="p-2.5 border-b border-r-0 border-gray-100 font-bold text-gray-900" id="attempted"></td>
        </tr>
        <tr class="even:bg-gray-50">
          <td class="p-2.5 border-b border-r border-gray-100">Questions Left</td><td class="p-2.5 border-b border-r-0 border-gray-100 font-bold text-gray-900" id="left"></td>
        </tr>
        <tr class="even:bg-gray-50">
          <td class="p-2.5 border-b border-r border-gray-100">Correct Answers</td><td class="p-2.5 border-b border-r-0 border-gray-100 font-bold text-green-600" id="correct"></td>
        </tr>
        <tr class="even:bg-gray-50">
          <td class="p-2.5 border-b border-r border-gray-100">Incorrect Answers</td><td class="p-2.5 border-b border-r-0 border-gray-100 font-bold text-red-600" id="incorrect"></td>
        </tr>
        <tr class="even:bg-gray-50 last:border-b-0">
          <td class="p-2.5 border-r border-gray-100">Overall Percentage</td><td class="p-2.5 border-r-0 border-gray-100 font-bold text-blue-600" id="percentage"></td>
        </tr>
      </tbody>
    </table>
    <div id="retake" class="text-center mt-4">
      <button class="py-2 px-4 rounded-full text-white text-xs font-semibold transition-all duration-300 ease-in-out shadow-md shadow-orange-300 hover:bg-orange-600 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-orange-400 focus:outline-none bg-orange-500" onclick="resetQuiz()">Retake Test</button>
    </div>
  </div>

  <script>
    // Array of quiz questions - populated from the provided MCQs
    const questions = [
      {
        question: "Enzymes are biological catalysts that increase the rate of reactions in living organisms without:",
        options: ["Being consumed", "Releasing energy", "Forming ATP", "Changing the pH"],
        answer: "Being consumed"
      },
      {
        question: "Ribozymes differ from enzymes because they are:",
        options: ["Proteins", "Lipids", "RNA molecules", "DNA fragments"],
        answer: "RNA molecules"
      },
      {
        question: "Enzymes function based on their:",
        options: ["Density", "Color", "Complex structure", "Charge only"],
        answer: "Complex structure"
      },
      {
        question: "The active site of an enzyme is responsible for:",
        options: ["Digesting the enzyme", "Increasing the pH", "Binding the substrate", "Denaturing proteins"],
        answer: "Binding the substrate"
      },
      {
        question: "The specificity of an enzyme is largely determined by:",
        options: ["Number of carbon atoms", "Water presence", "R-groups of amino acids", "Size of the enzyme"],
        answer: "R-groups of amino acids"
      },
      {
        question: "In the lock-and-key hypothesis, the enzyme is imagined as:",
        options: ["A lock", "A door", "A key", "A wall"],
        answer: "A lock"
      },
      {
        question: "In the lock-and-key hypothesis, the substrate is imagined as:",
        options: ["A padlock", "A cell wall", "A lock", "A key"],
        answer: "A key"
      },
      {
        question: "The lock-and-key model assumes the active site:",
        options: ["Changes constantly", "Is a rigid structure", "Binds to all substrates equally", "Requires coenzymes"],
        answer: "Is a rigid structure"
      },
      {
        question: "The induced-fit hypothesis suggests that the enzyme:",
        options: ["Breaks down without substrate", "Changes shape slightly", "Works only in mammals", "Has no active site"],
        answer: "Changes shape slightly"
      },
      {
        question: "The enzyme-substrate complex is formed during:",
        options: ["Dehydration", "Hydrolysis", "Enzyme binding", "Denaturation"],
        answer: "Enzyme binding"
      },
      {
        question: "After releasing the product, the enzyme:",
        options: ["Is broken down", "Changes color", "Remains unchanged", "Stops functioning"],
        answer: "Remains unchanged"
      },
      {
        question: "In the induced-fit model, the enzyme fits the substrate like a:",
        options: ["Spoon in a bowl", "Hand in a glove", "Nail in a wall", "Lock and key"],
        answer: "Hand in a glove"
      },
      {
        question: "The process of converting substrate into product is called:",
        options: ["Hydrolysis", "Catalysis", "Neutralization", "Polymerization"],
        answer: "Catalysis"
      },
      {
        question: "The rate of enzyme action is controlled by:",
        options: ["Number of cells", "Type of sugar", "Shape of active site", "Presence of DNA"],
        answer: "Shape of active site"
      },
      {
        question: "An enzyme-substrate complex increases the likelihood of:",
        options: ["Mutation", "Catalysis", "Death", "Respiration"],
        answer: "Catalysis"
      },
      {
        question: "Enzymes are most active when:",
        options: ["Frozen", "Inactive", "At optimum conditions", "In a vacuum"],
        answer: "At optimum conditions"
      },
      {
        question: "The substrate fits into the enzyme at:",
        options: ["Binding loop", "Reaction corner", "Active site", "Enzyme wall"],
        answer: "Active site"
      },
      {
        question: "The enzyme's ability to bind a specific substrate is called:",
        options: ["Compatibility", "Selectivity", "Specificity", "Polarity"],
        answer: "Specificity"
      },
      {
        question: "The enzyme helps stretch the bond in the substrate to:",
        options: ["Prevent a reaction", "Increase rigidity", "Make it easier to break", "Denature the enzyme"],
        answer: "Make it easier to break"
      },
      {
        question: "The local conditions inside the enzyme can be different from:",
        options: ["Substrate structure", "External pH and ions", "Enzyme sequence", "Temperature"],
        answer: "External pH and ions"
      },
      {
        question: "Enzymes lower the activation energy by:",
        options: ["Removing heat", "Stabilizing the transition state", "Forming glucose", "Increasing water content"],
        answer: "Stabilizing the transition state"
      },
      {
        question: "The energy required to initiate a reaction is called:",
        options: ["Free energy", "Transition energy", "Activation energy", "Reaction heat"],
        answer: "Activation energy"
      },
      {
        question: "A higher activation energy results in:",
        options: ["Rapid reaction", "No reaction", "Slower reaction", "Decreased energy"],
        answer: "Slower reaction"
      },
      {
        question: "Enzymes allow more molecules to:",
        options: ["Denature", "Gain mass", "Overcome the energy barrier", "Become proteins"],
        answer: "Overcome the energy barrier"
      },
      {
        question: "A reaction with lower activation energy:",
        options: ["Happens faster", "Is stopped", "Doesn't occur", "Forms DNA"],
        answer: "Happens faster"
      },
      {
        question: "The difference in energy between reactants and products is:",
        options: ["Activation energy", "Transition state", "ΔG (change in free energy)", "Ionization energy"],
        answer: "ΔG (change in free energy)"
      },
      {
        question: "The enzyme catalase reduces activation energy of H₂O₂ from:",
        options: ["86 kJ/mol to 50 kJ/mol", "100 kJ/mol to 1 kJ/mol", "86 kJ/mol to 1 kJ/mol", "1 kJ/mol to 0.5 kJ/mol"],
        answer: "86 kJ/mol to 1 kJ/mol"
      },
      {
        question: "In the energy graph, enzymes change:",
        options: ["Product energy", "Shape of the graph", "Activation energy", "Substrate concentration"],
        answer: "Activation energy"
      },
      {
        question: "Exothermic reactions release:",
        options: ["Oxygen", "Glucose", "Energy", "Heat only"],
        answer: "Energy"
      },
      {
        question: "The function of catalase is to:",
        options: ["Raise temperature", "Break water", "Reduce H₂O₂", "Form DNA"],
        answer: "Reduce H₂O₂"
      },
      {
        question: "The energy barrier is also called:",
        options: ["Activation energy", "Thermal power", "Substrate charge", "Enzyme heat"],
        answer: "Activation energy"
      },
      {
        question: "Without enzymes, reactions are:",
        options: ["Faster", "Slower", "Impossible", "Endothermic"],
        answer: "Slower"
      },
      {
        question: "Activation energy must be overcome for:",
        options: ["Metabolism", "Transition", "Reaction to occur", "Cell division"],
        answer: "Reaction to occur"
      },
      {
        question: "More molecules can overcome activation energy with:",
        options: ["Light", "Heat", "Enzyme presence", "Water"],
        answer: "Enzyme presence"
      },
      {
        question: "The presence of enzymes converts reactants into:",
        options: ["Fats", "Nucleotides", "Products", "Hormones"],
        answer: "Products"
      },
      {
        question: "Thermophilic enzymes function best at:",
        options: ["0°C", "40°C", "90°C", "10°C"],
        answer: "90°C"
      },
      {
        question: "Arctic enzymes may function at:",
        options: ["20°C", "37°C", "-10°C", "90°C"],
        answer: "-10°C"
      },
      {
        question: "The optimum temperature for mammalian enzymes is:",
        options: ["25°C", "40°C", "100°C", "10°C"],
        answer: "40°C"
      },
      {
        question: "The Q₁₀ value refers to:",
        options: ["Inhibition", "The rise in product level", "Rate increase per 10°C rise", "Energy balance"],
        answer: "Rate increase per 10°C rise"
      },
      {
        question: "Enzymes work slowly in a fridge because:",
        options: ["They freeze", "No energy", "Diffusion is very slow", "They break"],
        answer: "Diffusion is very slow"
      },
      {
        question: "Most enzymes function best around a pH of:",
        options: ["4", "7–8", "10", "2"],
        answer: "7–8"
      },
      {
        question: "Pepsin has an optimum pH of:",
        options: ["7", "5", "1.5–1.6", "8"],
        answer: "1.5–1.6"
      },
      {
        question: "The pH affects enzyme activity by changing:",
        options: ["Substrate temperature", "DNA sequence", "Amino acid ionization", "Color of enzyme"],
        answer: "Amino acid ionization"
      },
      {
        question: "A stomach enzyme functioning at low pH is:",
        options: ["Amylase", "Catalase", "Pepsin", "Urease"],
        answer: "Pepsin"
      },
      {
        question: "Lipase from the pancreas works best at pH:",
        options: ["2", "7.0", "8.0", "4.5"],
        answer: "8.0"
      },
      {
        question: "Catalase has an optimum pH of:",
        options: ["3.0", "5.5", "7.0", "8.5"],
        answer: "7.0"
      },
      {
        question: "As enzyme concentration increases, the reaction rate:",
        options: ["Stays constant", "Increases linearly", "Decreases rapidly", "Inhibits substrate"],
        answer: "Increases linearly"
      },
      {
        question: "Enzymes can work in ice but:",
        options: ["Are denatured", "Work very slowly", "Speed up", "Lose shape"],
        answer: "Work very slowly"
      },
      {
        question: "Cofactors help enzymes by:",
        options: ["Inhibiting reactions", "Making proteins", "Altering enzyme shape", "Breaking bonds"],
        answer: "Altering enzyme shape"
      },
      {
        question: "A coenzyme is:",
        options: ["A protein enzyme", "A water molecule", "An organic cofactor", "An inhibitor"],
        answer: "An organic cofactor"
      },
      {
        question: "Metallic cofactors such as zinc are:",
        options: ["Inhibitors", "Called prosthetic groups", "Coenzymes", "Catalysts"],
        answer: "Called prosthetic groups"
      },
      {
        question: "Coenzymes are often derived from:",
        options: ["Sugars", "Hormones", "Vitamins", "Proteins"],
        answer: "Vitamins"
      },
      {
        question: "NAD⁺ and FAD are examples of:",
        options: ["Enzymes", "Substrates", "Coenzymes", "Inhibitors"],
        answer: "Coenzymes"
      },
      {
        question: "A non-competitive inhibitor binds to the enzyme at a site other than the:",
        options: ["Active site", "Substrate", "Product", "Cofactor"],
        answer: "Active site"
      },
      {
        question: "Competitive inhibition occurs when the inhibitor resembles the:",
        options: ["Enzyme", "Product", "Substrate", "Cofactor"],
        answer: "Substrate"
      },
      {
        question: "Irreversible inhibitors form a strong bond with the enzyme, often at the:",
        options: ["Product site", "Active site", "Regulator site", "Coenzyme site"],
        answer: "Active site"
      },
      {
        question: "Feedback inhibition is a regulatory mechanism where the end product of a metabolic pathway:",
        options: ["Activates an enzyme", "Inhibits an enzyme", "Changes enzyme structure", "Increases substrate concentration"],
        answer: "Inhibits an enzyme"
      }
    ];

    let currentQuestionIndex = 0;
    let userAnswers = new Array(questions.length).fill(null); // To store user's selected option index
    let timerInterval;
    const QUIZ_DURATION = 60; // seconds
    let timeLeft = QUIZ_DURATION;

    const questionContainer = document.getElementById('question-container');
    const progressBar = document.getElementById('progressBar');
    const timerDisplay = document.getElementById('timer');
    const quizSection = document.getElementById('quiz-section');
    const resultSection = document.getElementById('result-section');

    /**
     * Initializes the quiz by displaying the first question and starting the timer.
     */
    function startQuiz() {
      currentQuestionIndex = 0;
      userAnswers.fill(null);
      timeLeft = QUIZ_DURATION;
      updateTimerDisplay();
      renderQuestion();
      startTimer();
      quizSection.style.display = 'block';
      resultSection.style.display = 'none';
    }

    /**
     * Renders the current question and its options to the DOM.
     * Updates the progress bar.
     */
    function renderQuestion() {
      // Ensure the current question index is valid
      if (currentQuestionIndex < 0 || currentQuestionIndex >= questions.length) {
        console.error("Invalid currentQuestionIndex:", currentQuestionIndex);
        return; // Exit if index is out of bounds
      }

      const q = questions[currentQuestionIndex];
      questionContainer.innerHTML = `
        <div class="question font-semibold mb-3 text-sm text-blue-800 leading-tight">${currentQuestionIndex + 1}. ${q.question}</div>
        <div class="options flex flex-col gap-2">
          ${q.options.map((option, index) => `
            <button class="flex items-center justify-start w-full py-2.5 px-3 text-sm border border-blue-200 rounded-lg bg-blue-50 cursor-pointer transition-all duration-200 ease-in-out text-gray-700 shadow-sm
              ${userAnswers[currentQuestionIndex] === index ? 'selected-option' : ''}"
              onclick="selectOption(${index})">
              ${option}
            </button>
          `).join('')}
        </div>
      `;
      updateOptionStyles();
      updateProgressBar();
    }

    /**
     * Updates the styling of the options based on the user's selection.
     */
    function updateOptionStyles() {
      const optionButtons = questionContainer.querySelectorAll('.options button');
      optionButtons.forEach((button, index) => {
        // Reset styles for all buttons first
        butt
